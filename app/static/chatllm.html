<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeepGemini - ChatLLM ЁЯМЯ</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link href="css/chatllm.css" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <nav class="sidebar">
        <button class="sidebar-toggle" onclick="toggleSidebar()">
            <i class="fas fa-chevron-left"></i>
        </button>
        <div class="sidebar-header">
            <h3>DeepGemini ЁЯМЯ</h3>
        </div>
        <ul class="sidebar-menu">
            <li data-page="models">
                <i class="fas fa-cube"></i>
                <span data-translate="modelManagement">цибхЮЛчобчРЖ</span>
            </li>
            <li data-page="workflows">
                <i class="fas fa-project-diagram"></i>
                <span data-translate="workflowManagement">цОехКЫщУ╛чобчРЖ</span>
            </li>
            <li data-page="roles">
                <i class="fas fa-user-tag"></i>
                <span data-translate="roleManagement">шзТшЙ▓чобчРЖ</span>
            </li>
            <li data-page="groups">
                <i class="fas fa-users"></i>
                <span data-translate="groupManagement">шоишо║ч╗ДчобчРЖ</span>
            </li>
            <li class="active" data-page="chatllm">
                <i class="fas fa-comments"></i>
                <span data-translate="chatInterface">хп╣шпЭчХМщЭв</span>
            </li>
            <li data-page="settings">
                <i class="fas fa-cog"></i>
                <span data-translate="systemSettings">ч│╗ч╗Яшо╛ч╜о</span>
            </li>
        </ul>
        <div class="sidebar-footer">
            <div class="sidebar-footer-controls">
                <div class="control-item language-control">
                    <i class="fas fa-globe"></i>
                    <span data-translate="language">шпншиА</span>
                    <select id="languageSelect" onchange="changeLanguage(this.value)">
                        <option value="en">English</option>
                        <option value="zh">чоАф╜Уф╕нцЦЗ</option>
                    </select>
                    <div class="language-popup">
                        <select id="languageSelectPopup" onchange="changeLanguage(this.value)">
                            <option value="en">English</option>
                            <option value="zh">чоАф╜Уф╕нцЦЗ</option>
                        </select>
                    </div>
                </div>
                <div class="control-item dark-mode-control" onclick="toggleTheme()">
                    <i class="fas fa-moon"></i>
                    <span data-translate="darkMode">хдЬщЧ┤цибх╝П</span>
                </div>
                <div class="control-item logout-control" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span data-translate="logout">щААхЗ║чЩ╗х╜Х</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-page" id="chatllm-page">
            <div class="chat-container">
                <!-- Chat Interface Header -->
                <div class="chat-header">
                    <div class="chat-header-title">
                        <h2 data-translate="chatInterface">хп╣шпЭчХМщЭв</h2>
                    </div>
                    <div class="chat-mode-selector">
                        <div class="btn-group" role="group">
                            <input type="radio" class="btn-check" name="chatMode" id="singleModel" value="single" autocomplete="off" checked>
                            <label class="btn btn-outline-primary" for="singleModel" data-translate="singleModel">хНХф╕кцибхЮЛ</label>
                            
                            <input type="radio" class="btn-check" name="chatMode" id="relayChain" value="relay" autocomplete="off">
                            <label class="btn btn-outline-primary" for="relayChain" data-translate="relayChain">цОехКЫщУ╛</label>
                            
                            <input type="radio" class="btn-check" name="chatMode" id="roleChat" value="role" autocomplete="off">
                            <label class="btn btn-outline-primary" for="roleChat" data-translate="roleChat">шзТшЙ▓хп╣шпЭ</label>
                            
                            <input type="radio" class="btn-check" name="chatMode" id="discussionGroup" value="group" autocomplete="off">
                            <label class="btn btn-outline-primary" for="discussionGroup" data-translate="discussionGroup">шоишо║ч╗Д</label>
                        </div>
                    </div>
                </div>

                <!-- Chat Selection Settings -->
                <div class="chat-settings">
                    <!-- Single Model Settings -->
                    <div class="chat-setting-section" id="single-model-settings">
                        <div class="form-group">
                            <label data-translate="selectModel">щАЙцЛйцибхЮЛ</label>
                            <select class="form-select" id="singleModelSelect"></select>
                        </div>
                    </div>

                    <!-- Relay Chain Settings -->
                    <div class="chat-setting-section d-none" id="relay-chain-settings">
                        <div class="form-group">
                            <label data-translate="selectRelayChain">щАЙцЛйцОехКЫщУ╛</label>
                            <select class="form-select" id="relayChainSelect"></select>
                        </div>
                    </div>

                    <!-- Role Chat Settings -->
                    <div class="chat-setting-section d-none" id="role-chat-settings">
                        <div class="form-group">
                            <label data-translate="selectRole">щАЙцЛйшзТшЙ▓</label>
                            <select class="form-select" id="roleChatSelect"></select>
                        </div>
                    </div>

                    <!-- Discussion Group Settings -->
                    <div class="chat-setting-section d-none" id="discussion-group-settings">
                        <div class="form-group">
                            <label data-translate="selectDiscussionGroup">щАЙцЛйшоишо║ч╗Д</label>
                            <select class="form-select" id="discussionGroupSelect"></select>
                        </div>
                        <div class="form-group mt-3">
                            <label data-translate="discussionTopic">шоишо║ф╕╗щвШ</label>
                            <input type="text" class="form-control" id="discussionTopic" placeholder="ш╛УхЕешоишо║ф╕╗щвШ">
                        </div>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div class="chat-messages" id="chatMessages">
                    <div class="welcome-message">
                        <h3 data-translate="welcomeToChat">цмвш┐Оф╜┐чФи DeepGemini хп╣шпЭчХМщЭв</h3>
                        <p data-translate="chatInstructions">щАЙцЛйшБКхдйцибх╝Пх╣╢х╝АхзЛхп╣шпЭ</p>
                    </div>
                </div>

                <!-- Discussion Group Participant Input (Only shown in Discussion Group mode when human input needed) -->
                <div class="human-input-area d-none" id="humanInputArea">
                    <div class="human-input-header">
                        <div class="human-role-info">
                            <span data-translate="speakingAs">цнгхЬиф╗е</span>
                            <span class="human-role-name" id="humanRoleName">ф║║ч▒╗</span>
                            <span data-translate="identity">ш║лф╗╜хПСшиА</span>
                        </div>
                    </div>
                    <div class="human-input-content">
                        <textarea class="form-control" id="humanInputMessage" placeholder="ш╛УхЕецВичЪДхПСшиАхЖЕхо╣..."></textarea>
                        <button class="btn btn-primary" id="sendHumanInput" data-translate="submitMessage">цПРф║дхПСшиА</button>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="chat-input">
                    <textarea class="form-control" id="userMessage" placeholder="ш╛УхЕец╢ИцБп..."></textarea>
                    <button class="btn btn-primary" id="sendMessage" data-translate="send">хПСщАБ</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner" style="display: none;">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">хКаш╜╜ф╕н...</span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="app.js"></script>
    <script src="js/chatllm.js"></script>
</body>
</html>
